# Hệ thống giám sát tuần tra rừng bảo vệ rừng
Hệ thống giám sát tuần tra bảo vệ rừng là một hệ thống thu thập thông tin dữ liệu tuần tra, xử lý dữ liệu, truy vấn và lập báo cáo qua các kỳ tuần tra bảo vệ rừng. Với mục tiêu hướng tới một hệ thống mở, chúng tôi đã thiết lập hệ thống này với toàn bộ các phần mềm mã nguồn mở bao gồm các phần mềm sau: GeoODK, OpenRefine, SMART và ODK Aggreagate. 

Phần mềm GeoODK có sử dụng mã nguồn mở của ODK Collect. ODK Collect là một ứng dụng dành cho hệ điều hành Android trên điện thoại thông minh. Nó được thiết kế để sử dụng trong môi trường có sự ràng buộc về tài nguyên với những thách thức như kết nối không đáng tin cậy hoặc cơ sở hạ tầng mạnh. Trong đó ODK Collect là một phần của Open Data Kit (ODK), một bộ công cụ miễn phí và mã nguồn mở giúp người sử dụng của các tổ chức, đi hiện trường và quản lý các giải pháp thu thập dữ liệu bằng điện thoại thông minh. 

ODK Collect sử dụng các biểu mẫu hiển thị tuân thủ tiêu chuẩn ODK XForms, tiêu chuẩn XForms 1.1 với một số phần mở rộng. Các cú pháp trong biểu mẫu được thực hiện bởi thư viện JavaRosa.

## Nội dung
- [Thiết lập máy chủ trực tuyến bằng ODK Aggregate](#thiết-lập-máy-chủ-trực-tuyến-bằng-odk-aggregate).
- [Xây dựng biểu mẫu XForms](#xây-dựng-biểu-mẫu-xforms).
- [Kết nối GeoODK với máy chủ trực tuyến](#kết-nối-geoodk-với-máy-chủ-trực-tuyến)
- [Thu thập dữ liệu ngoài thực địa bằng GeoODK](#thu-thập-dữ-liệu-ngoài-thực-địa-bằng-geoodk)
- [Xuất dữ liệu từ máy chủ ODK Aggregate](#xuất-dữ-liệu-từ-máy-chủ-odk-aggregate)
- [Xử lý và làm sạch dữ liệu bằng OpenRefine](#xử-lý-và-làm-sạch-dữ-liệu-bằng-openrefine)
- [Xây dựng cơ sở dữ liệu bằng phần mềm SMART](#xây-dựng-cơ-sở-dữ-liệu-bằng-phần-mềm-smart)
- [Học thêm về ODK Collect](#học-thêm-về-odk-collect)

## Thiết lập máy chủ trực tuyến bằng ODK Aggregate

Bước 1: Thiết lập lập máy chủ online bằng ODK Aggregate. Tải ODK Aggregate bằng đường dẫn sau https://github.com/opendatakit/aggregate/releases
## Xây dựng biểu mẫu XForms

XLSForm là một công cụ để đơn giản hóa việc tạo các biểu mẫu. Các biểu mẫu có thể được
thiết kế ở dạng tệp tin excel rồi sau đó được chuyển đổi sang một dạng XForm có thể được
sử dụng với các công cụ GeoODK.
**_Định dạng cơ bản_**
Mỗi một tệp tin phải có ba bảng tính (worksheet): giám sát (survey), lựa chọn (choices) và
thiết lập (setting):
  - Bảng tính giám sát chứa đựng các cấu trúc và hầu hết nội dung của biểu mẫu. Nó chứa
đựng đầy đủ danh sách các câu hỏi và các thông tin về việc giám sát ra sao. Hầu hết mỗi
dòng là một câu hỏi. Có một số dòng đặc biệt là cấu trúc của tệp tin như là gộp nhóm, lặp
lại….
  - Bảng tính lựa chọn được sử dụng để chỉ định các lựa chọn cho các câu hỏi có nhiều lựa
chọn. Mỗi dòng là một lựa chọn. Các lựa chọn với tên các danh sách giống nhau được
xem như là một phần của bộ lựa chọn. Điều này cho phép bộ lựa chọn có thể được sử
dụng lại cho nhiều lần khác nhau. Ví dụ: lựa chọn có hay không (yes/no).
  - Bảng tính thiết lập (setting) có mục đích hiển thị tên của biểu mẫu trên thiết bị di động
cho người sử dụng có thể biết được biểu mẫu đang dùng. Worksheet này sẽ có hai cột là
tên của biểu mẫu và biến được gán tên.

Mỗi một worksheet có một bộ các cột thông tin cần thiết theo đúng định dạng của tệp tin
excel. Thêm vào đó mỗi bảng tính có các cột lựa chọn cho phép kiểm soát các hoạt động cho
mỗi lần nhập liệu ở biểu mẫu. Các cột nhập liệu có thể bỏ trống hoặc bắt buộc nhập tùy vào
sự kiểm soát có mục đích của người tạo. Mỗi câu hỏi điều tra phải được gán vào một biến có
tên xác định. Kiểu chữ được sử dụng kiểu chữ phù hợp nhất cho người sử dụng.

**_Kiểu dữ liệu_**

GeoODK hỗ trợ các kiểu dữ liệu sau:
- Integer: Dữ liệu nhập vào là dạng số dưới dạng số nguyên
- Decimal: Dữ liệu nhập vào là dữ liệu dạng số thập phân
- Select_one [options]: Câu hỏi lựa chọn; Chỉ chọn câu trả lời duy nhất.
- Select_multiple [options]: Câu hỏi lựa chọn; Có thể chọn nhiều phương án.
- Note: Hiển hị một thông báo trên màn hình. Không có nhập liệu.
- Geopoint: Xác định vị trí điểm tọa độ.
- Geoshape: Xác định vị trí vùng tọa độ.
- Image: Chụp ảnh để lưu
- Barcode: Quét mã code, cần được cài đặt ứng dụng quét mã.
- Date: Nhập dữ liệu ngày
- Datetime: Chấp nhận nhập liệu dạng ngày và thời gian.
- Audio: Ghi âm bản ghi
- Video: Quay video
- Calculate: Thực hiện tính toán.

_Tham khảo thêm tại_: [XForms](#https://docs.google.com/spreadsheets/d/1P4roHU0iC_Xx0028oKK656FvH4MBWecIw-HJ7JRwrYs/edit#gid=1211269274)


## Kết nối GeoODK với máy chủ trực tuyến

Bước 3: Tải biểu mẫu lên máy chủ trực tuyến
## Thu thập dữ liệu ngoài thực địa bằng GeoODK

Bước 4: Tải GeoODK về điện thoại di động và kết nối với máy chủ. GeoODK có thể được tải từ google play hoặc từ github với đường dẫn sau https://github.com/GeoODK

## Xuất dữ liệu từ máy chủ ODK Aggregate

Bước 5: Tải biểu mẫu từ máy chủ về điện thoại di động

Bước 6: Thu thập dữ liệu ngoài thực địa từ điện thoại di động rồi gửi dữ liệu về máy chủ
Bước 8: Tải phần mềm OpenRefine theo đường dẫn: http://openrefine.org/download.html. Sau đó làm sạch dữ liệu trong OpenRefine rồi xuất sang định dạng csv.
Bước 7: Chiết xuất thông tin từ máy chủ dưới định dạng json
## Xử lý và làm sạch dữ liệu bằng OpenRefine

Bước 7: Chiết xuất thông tin từ máy chủ dưới định dạng json
## Xây dựng cơ sở dữ liệu bằng phần mềm SMART




Bước 9: Tải phần mềm SMART theo đường dẫn: http://smartconservationtools.org/download/. Nhập dữ liệu vào phần mềm SMART.

Bước 10: Dữ liệu được lưu trong SMART và khi cần có thể làm truy vấn và báo cáo trình cấp trên.












Các bước làm chi tiết xin đọc các hướng dẫn cụ thể!


## Học thêm về ODK Collect
- Trang thông tin ODK: [https://opendatakit.org](https://opendatakit.org)
- Tài liệu sử dụng ODK Collect: [https://docs.opendatakit.org/collect-intro/](https://docs.opendatakit.org/collect-intro/)
- Diễn đàn ODK: [https://forum.opendatakit.org](https://forum.opendatakit.org)


